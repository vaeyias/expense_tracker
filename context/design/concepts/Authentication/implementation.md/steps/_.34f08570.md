---
timestamp: 'Mon Oct 20 2025 00:32:53 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251020_003253.1667d04a.md]]'
content_id: 34f085700a01fecec5bb7ce8af3b4f67422b2b0640df2aae9d719d43be1e510b
---

# Error-handling

ALL normal errors should be caught, and return a record `{error: "the error message"}` to allow proper future synchronization with useful errors. When implementating actions, be sure to return errors when requirements are not met. Be clear in error messages.

Be sure to handle return types by including `| { error: string }`. For example,
async function exampleAction(...): Promise<{ result: T } | { error: string }> { ... }

```
concept Authentication
    purpose limit access to known users
    principle after a user registers with a username and a password, they can authenticate with that same username and password and be treated each time as the same user.
    state
        a set of Users with
            a username String
            a password String

    actions
        register (username: String, password: String): (user: User)
            requires username to not already exist
            effects creates a new User with given username and password

        authenticate (username: String, password: String): (user: User)
            requires a User to exist with the given username
            effects if a User with the given username exists and the given password matches the User's password then access is granted. Otherwise, access is denied.
```

implement Authentication
