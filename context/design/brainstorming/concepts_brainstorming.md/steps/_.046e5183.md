---
timestamp: 'Sat Oct 11 2025 22:01:29 GMT-0400 (Eastern Daylight Time)'
parent: '[[..\20251011_220129.44733975.md]]'
content_id: 046e51833775e795b5de660f48501961bd61936ac69e386204f98177891484b1
---

# Debt Concept

```
concept Debt
    purpose calculate and tracks debts between two users.
    principle After a debt is created.
    state
        a set of Debts
          a payer User
          a totalCost Number
          an expense Expense
          a debtMapping Map<User:Number>

    actions
        createDebt(payer: User, totalCost: Number, debtMapping: Map<User:Number>): (debt: Debt)
            requires payer exists, totalCost > 0, all numbers in debtMapping are nonnegative and sum to totalCost
            effect creates a new debt record

        updateDebt(payer: User, receivers: Map<User, Number>, group: Group)
            requires payer and receivers are members of group, all numbers in receivers are nonnegative
            effect for each receiver, adjusts the debt balance between payer and receiver by their share

        settleDebt(payer: User, receiver: User, group: Group, amount: Number)
            requires debt between userA and userB exists
            effect recalculates and returns the amount that the payer owes the receiver after the amount is paid to the receiver.

        getDebt(userA: User, userB: User, group: Group): (balance: Number)
            requires debt exists
            effect returns net balance between userA and userB
```
